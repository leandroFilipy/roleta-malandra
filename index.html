<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Roleta da Sorte 50/50</title>
    <style>
        :root {
            --primary: #6c5ce7;
            --secondary: #a29bfe;
            --bg: #0f0c29;
            --success: #27ae60;
            --accent: #ff7675;
        }

        body {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            margin: 0;
            background: linear-gradient(135deg, #0f0c29, #302b63, #24243e);
            font-family: 'Segoe UI', sans-serif;
            color: white;
            overflow: hidden;
        }

        .container {
            position: relative;
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(15px);
            padding: 40px;
            border-radius: 30px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            box-shadow: 0 25px 50px rgba(0,0,0,0.5);
            text-align: center;
            z-index: 1;
        }

        h1 { margin-top: 0; font-weight: 300; letter-spacing: 2px; }

        .wheel-container {
            position: relative;
            width: 400px;
            height: 400px;
            margin-bottom: 25px;
        }

        .wheel-container::before {
            content: "";
            position: absolute;
            top: -15px;
            left: 50%;
            transform: translateX(-50%);
            width: 0; height: 0; 
            border-left: 20px solid transparent;
            border-right: 20px solid transparent;
            border-top: 30px solid var(--accent);
            z-index: 10;
            filter: drop-shadow(0 5px 5px rgba(0,0,0,0.3));
        }

        canvas {
            border-radius: 50%;
            border: 8px solid rgba(255,255,255,0.1);
            transition: transform 5s cubic-bezier(0.15, 0, 0.15, 1);
            box-shadow: 0 0 30px rgba(0,0,0,0.5);
        }

        button {
            padding: 15px 50px;
            font-size: 1.1rem;
            font-weight: bold;
            text-transform: uppercase;
            cursor: pointer;
            background: linear-gradient(45deg, var(--primary), var(--secondary));
            color: white;
            border: none;
            border-radius: 50px;
            box-shadow: 0 10px 20px rgba(108, 92, 231, 0.3);
            transition: 0.3s;
        }

        button:hover:not(:disabled) {
            transform: translateY(-3px);
            box-shadow: 0 15px 25px rgba(108, 92, 231, 0.4);
        }

        button:active { transform: translateY(-1px); }
        button:disabled { opacity: 0.5; cursor: not-allowed; }

        /* Anima√ß√£o do Vencedor */
        #winner-overlay {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.85);
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 100;
            animation: fadeIn 0.5s ease;
        }

        .winner-card {
            background: white;
            color: #333;
            padding: 40px 80px;
            border-radius: 20px;
            text-align: center;
            transform: scale(0);
            animation: popIn 0.6s cubic-bezier(0.17, 0.89, 0.32, 1.49) forwards;
        }

        .winner-card h2 { margin: 0; color: var(--primary); font-size: 1.5rem; }
        .winner-card .name { font-size: 3.5rem; font-weight: 900; margin: 10px 0; }

        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        @keyframes popIn { to { transform: scale(1); } }

        .footer-credits { margin-top: 20px; font-size: 0.8rem; opacity: 0.6; }
    </style>
</head>
<body>

    <div class="container">
        <h1>Sorteio Especial</h1>
        <div class="wheel-container">
            <canvas id="wheel" width="400" height="400"></canvas>
        </div>
        <button id="spinBtn" onclick="spin()">Girar Roleta!</button>
    </div>

    <div id="winner-overlay" onclick="closeWinner()">
        <div class="winner-card">
            <h2>üèÜ O sorteado foi:</h2>
            <div class="name" id="winnerName"></div>
            <p>Clique em qualquer lugar para fechar</p>
        </div>
    </div>

    <script>
        const canvas = document.getElementById('wheel');
        const ctx = canvas.getContext('2d');
        const spinBtn = document.getElementById('spinBtn');
        
        const names = [
            "Daniel", "Matheus", "Kael", "Hugo", "Eduardo", "Maria",
            "Jos√©", "Ana", "Emanuelle", "Gabriel", "Elis", "Murilo",
            "Catarina", "Andr√©", "Melissa", "Lucas", "Gabrielli", "Leandro"
        ];
        
        const size = names.length;
        const sliceDeg = 360 / size;
        let currentRotation = 0;

        function drawWheel() {
            names.forEach((name, i) => {
                const angle = (i * sliceDeg) * Math.PI / 180;
                
                ctx.beginPath();
                ctx.fillStyle = i % 2 === 0 ? '#ffffff' : '#f1f2f6';
                ctx.moveTo(200, 200);
                ctx.arc(200, 200, 200, angle, angle + (sliceDeg * Math.PI / 180));
                ctx.fill();
                
                ctx.save();
                ctx.translate(200, 200);
                ctx.rotate(angle + (sliceDeg / 2) * Math.PI / 180);
                ctx.textAlign = "right";
                ctx.fillStyle = "#2d3436";
                ctx.font = "bold 14px sans-serif";
                ctx.fillText(name, 185, 5);
                ctx.restore();
            });
        }

        function spin() {
            spinBtn.disabled = true;

            let targetIndex;
            const joseIndex = 6; 
            if (Math.random() < 0.5) {
                targetIndex = joseIndex;
            } else {
                do {
                    targetIndex = Math.floor(Math.random() * size);
                } while (targetIndex === joseIndex);
            }

            const voltasExtras = 360 * 8; // Gira 8 vezes antes de parar
            
            const currentPosition = currentRotation % 360;
            const targetAngle = (360 - (targetIndex * sliceDeg)) + 270;
            
            currentRotation += voltasExtras + (targetAngle - currentPosition);
            
            canvas.style.transform = `rotate(${currentRotation}deg)`;

            setTimeout(() => {
                showWinner(names[targetIndex]);
            }, 5100);
        }

        function showWinner(name) {
            document.getElementById('winnerName').innerText = name;
            document.getElementById('winner-overlay').style.display = 'flex';
        }

        function closeWinner() {
            document.getElementById('winner-overlay').style.display = 'none';
            spinBtn.disabled = false;
        }

        drawWheel();
    </script>
</body>
</html>